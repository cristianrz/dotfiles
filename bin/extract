#!/bin/sh

flags=

case "$1" in
*.tbz2 | *.tar.bz2)
	cmd="tar"
	flags="fjvx"
	;;
*.tar | *.tar.xz)
	cmd="tar"
	flags="fvx"
	;;
*.tgz | *.tar.gz)
	cmd="tar"
	flags="fvxz"
	;;
*.7z)
	cmd="7za"
	flags="x"
	;;
*.Z)
	cmd="uncompress"
	;;
*.bz2)
	cmd="bunzip2"
	;;
*.gz)
	cmd="gunzip"
	;;
*.rar)
	cmd="unrar"
	flags="e"
	;;
*.zip)
	cmd="unzip"
	;;
*)
	printf '%s: not sure how to extract %s' "$(basename "$0")" "$1" >&2
	exit 1
	;;
esac

exec "$cmd" "$flags" "$@"
